name = 'test_monoexchange setup'

devices = dict(
    y1=device('nicos.devices.generic.VirtualMotor',
              description='crystal translation',
              abslimits=(-10, 10),
              unit='mm',
              visibility=(),
              ),
    xi1=device('nicos.devices.generic.VirtualMotor',
               description='crystal inclination',
               abslimits=(-10, 10),
               unit='mm',
               visibility=(),
               ),
    alpha1=device('nicos.devices.generic.VirtualMotor',
                  description='crystal curved',
                  abslimits=(-5, 5),
                  unit='deg',
                  visibility=(),
                  ),
    y2=device('nicos.devices.generic.VirtualMotor',
              description='crystal translation',
              abslimits=(-10, 10),
              unit='mm',
              visibility=(),
              ),
    xi2=device('nicos.devices.generic.VirtualMotor',
               description='crystal inclination',
               abslimits=(-10, 10),
               unit='mm',
               visibility=(),
               ),
    alpha2=device('nicos.devices.generic.VirtualMotor',
                  description='crystal curved',
                  abslimits=(-5, 5),
                  unit='deg',
                  visibility=(),
                  ),
    y3=device('nicos.devices.generic.VirtualMotor',
              description='crystal translation',
              abslimits=(-10, 10),
              unit='mm',
              visibility=(),
              ),
    xi3=device('nicos.devices.generic.VirtualMotor',
               description='crystal inclination',
               abslimits=(-10, 10),
               unit='mm',
               visibility=(),
               ),
    alpha3=device('nicos.devices.generic.VirtualMotor',
                  description='crystal curved',
                  abslimits=(-5, 5),
                  unit='deg',
                  visibility=(),
                  ),
    mb1=device('nicos_lahn.andes.devices.monoexchange.MonoBlock',
               description='moveables devices block',
               tran='y1',
               incl='xi1',
               curv='alpha1',
               fmtstr='tran: %.1f, incl: %.1f, curv: %.1f',
               visibility=(),
               ),
    mb2=device('nicos_lahn.andes.devices.monoexchange.MonoBlock',
               description='moveables devices block',
               tran='y2',
               incl='xi2',
               curv='alpha2',
               fmtstr='tran: %.1f, incl: %.1f, curv: %.1f',
               visibility=(),
               ),
    mb3=device('nicos_lahn.andes.devices.monoexchange.MonoBlock',
               description='moveables devices block',
               tran='y3',
               incl='xi3',
               curv='alpha3',
               fmtstr='tran: %.1f, incl: %.1f, curv: %.1f',
               visibility=(),
               ),
    Si=device('nicos.devices.generic.DeviceAlias',
              alias='mb1',
              ),
    Ge=device('nicos.devices.generic.DeviceAlias',
              alias='mb2',
              ),
    PG=device('nicos.devices.generic.DeviceAlias',
              alias='mb3',
              ),
    meZ=device('nicos.devices.generic.VirtualMotor',
               description='vertical translation',
               abslimits=(0, 150),
               unit='mm',
               visibility=(),
               ),
    crystal=device('nicos_lahn.andes.devices.monoexchange.Exchange',
                   description='exchange',
                   mb=['mb%d' % i for i in range(1, 4)],
                   moveable='meZ',
                   mapping={
                       'Si': 0,
                       'Ge': 75,
                       'PG': 150,
                   },
                   precision=0.1,
                   ),
    omgm=device('nicos.devices.generic.VirtualMotor',
                description='crystal rotation',
                abslimits=(0, 360),
                unit='deg',
                ),
)

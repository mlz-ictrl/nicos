description = 'Optical bank devices for polarization analysis'

group = 'optional'

includes = ['motorbus6']

devices = dict(
    st_p1 = device('nicos_mlz.puma.devices.ipc_puma.ReferenceMotor',
        description = 'motor polarisation collimator',
        bus = 'motorbus6',
        addr = 83,
        abslimits = (-250000, 250000),
        slope = 1,
        unit = 'steps',
        zerosteps = 500000,
        fmtstr = '%d',
        refswitch = 'low',
        refpos = 492000,
        refspeed = 200,
        refstep = 2000,
        parkpos = 0,
    ),
    st_p2 = device('nicos_mlz.puma.devices.ipc_puma.ReferenceMotor',
        description = 'motor deflector 1',
        bus = 'motorbus6',
        addr = 85,
        slope = 577.35,
        refswitch = 'low',
        refpos = 497171,
        refspeed = 200,
        refstep = 2000,
        abslimits = (-5.5, 5.5),
        parkpos = 0,
        fmtstr = '%6.3f',
        unit = 'deg',
        zerosteps = 500000,
        lowlevel = True,
    ),
    st_p3 = device('nicos_mlz.puma.devices.ipc_puma.ReferenceMotor',
        description = 'motor deflector 2',
        bus = 'motorbus6',
        addr = 86,
        slope = 577.35,
        refswitch = 'low',
        refpos = 497171,
        refspeed = 200,
        refstep = 2000,
        abslimits = (-5.5, 5.5),
        parkpos = 0,
        unit = 'deg',
        fmtstr = '%6.3f',
        zerosteps = 500000,
        lowlevel = True,
    ),
    polcol = device('nicos.devices.generic.Axis',
        description = 'polarisation collimator',
        motor = 'st_p1',
        precision = 0,
        backlash = -200,
    ),
    def1 = device('nicos.devices.generic.Axis',
        description = 'First deflector',
        motor = 'st_p2',
        precision = 0,
        backlash = -1,
    ),
    def2 = device('nicos.devices.generic.Axis',
        description = 'Second deflector',
        motor = 'st_p3',
        precision = 0,
        backlash = -1,
    ),
)

InfluxDB2 installation and setup
--------------------------------

In order to install InfluxDB2 instance, best to follow official
`guide <https://docs.influxdata.com/influxdb/v2/install/>`_.

Initial setup can be implemented through InfluxDB2 web interface or via CLI.
One needs to specify organization name, initial bucket, username and password::

   influx setup -o mlz -b nicos-cache -u nicos -p password -f

The API token should be autogenerated at the previous step. One can also specify
the token::

   influx setup -o mlz -b nicos-cache -u nicos -p password -t token -f

Generated token can be accessed using command::

   influx config ls --json

The token should be stored in nicos keystore as a new field "influxdb"::

   bin/nicos-keystore add influxdb --storagepw nicos --password token

Start InfluxDB2 service with telemetry disabled::

   influxd --reporting-disabled

